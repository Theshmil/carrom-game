<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Mini Carrom Game</title>
<style>
  body {
    margin: 0;
    background: #f2e6d9;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1 {
    color: #c44;
    margin: 10px;
  }
  canvas {
    background: #fff8dc;
    border: 5px solid #8b5a2b;
  }
</style>
</head>
<body>

<h1>ðŸŽ± Mini Carrom Game ðŸŽ±</h1>
<canvas id="canvas" width="400" height="400"></canvas>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

// Define striker and coins
let striker = { x: 200, y: 350, radius: 15, dx:0, dy:0, color:'black' };
let coins = [
  { x: 200, y: 200, radius:10, dx:0, dy:0, color:'red' },
  { x: 220, y: 200, radius:10, dx:0, dy:0, color:'white' },
  { x: 180, y: 200, radius:10, dx:0, dy:0, color:'white' }
];

let aiming = false;
let aimX=0, aimY=0;

canvas.onmousedown = e => {
  aiming = true;
  aimX = e.offsetX;
  aimY = e.offsetY;
};
canvas.onmouseup = e => {
  aiming = false;
  let dx = aimX - e.offsetX;
  let dy = aimY - e.offsetY;
  striker.dx = dx*0.1;
  striker.dy = dy*0.1;
};

function update() {
  [striker, ...coins].forEach(ball => {
    ball.x += ball.dx;
    ball.y += ball.dy;
    ball.dx *= 0.98; // friction
    ball.dy *= 0.98;
    if (Math.abs(ball.dx) < 0.1) ball.dx=0;
    if (Math.abs(ball.dy) < 0.1) ball.dy=0;

    // Wall collision
    if (ball.x - ball.radius < 0) {
      ball.x = ball.radius;
      ball.dx = -ball.dx;
    }
    if (ball.x + ball.radius > canvas.width) {
      ball.x = canvas.width - ball.radius;
      ball.dx = -ball.dx;
    }
    if (ball.y - ball.radius < 0) {
      ball.y = ball.radius;
      ball.dy = -ball.dy;
    }
    if (ball.y + ball.radius > canvas.height) {
      ball.y = canvas.height - ball.radius;
      ball.dy = -ball.dy;
    }
  });

  // Simple striker hits coins
  coins.forEach(c => {
    let dx = c.x - striker.x;
    let dy = c.y - striker.y;
    let dist = Math.hypot(dx, dy);
    if (dist < c.radius + striker.radius) {
      c.dx = dx*0.2;
      c.dy = dy*0.2;
      striker.dx = -dx*0.1;
      striker.dy = -dy*0.1;
    }
  });
}

function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // Draw coins
  coins.forEach(c=>{
    ctx.beginPath();
    ctx.arc(c.x,c.y,c.radius,0,Math.PI*2);
    ctx.fillStyle = c.color;
    ctx.fill();
  });
  // Draw striker
  ctx.beginPath();
  ctx.arc(striker.x,striker.y,striker.radius,0,Math.PI*2);
  ctx.fillStyle = striker.color;
  ctx.fill();

  // Draw aiming line
  if (aiming) {
    ctx.strokeStyle = 'blue';
    ctx.beginPath();
    ctx.moveTo(striker.x, striker.y);
    ctx.lineTo(aimX, aimY);
    ctx.stroke();
  }
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>